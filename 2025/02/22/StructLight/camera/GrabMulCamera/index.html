

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ZhangHangming">
  <meta name="keywords" content="">
  
    <meta name="description" content="示例代码 相机控制流程 函数用法">
<meta property="og:type" content="article">
<meta property="og:title" content="Grab Multiple Camera">
<meta property="og:url" content="http://example.com/2025/02/22/StructLight/camera/GrabMulCamera/index.html">
<meta property="og:site_name" content="向所有小狗say hi">
<meta property="og:description" content="示例代码 相机控制流程 函数用法">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/image/GrabMulCamera.bmp">
<meta property="article:published_time" content="2025-02-22T08:25:39.836Z">
<meta property="article:modified_time" content="2025-02-22T08:25:39.836Z">
<meta property="article:author" content="ZhangHangming">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/image/GrabMulCamera.bmp">
  
  
  
  <title>Grab Multiple Camera - 向所有小狗say hi</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Grab Multiple Camera"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-02-22 16:25" pubdate>
          2025年2月22日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.3k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          11 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Grab Multiple Camera</h1>
            
            
              <div class="markdown-body">
                
                <ol>
<li>示例代码</li>
<li>相机控制流程</li>
<li>函数用法</li>
</ol>
<span id="more"></span>

<h1 id="code"><a href="#code" class="headerlink" title="code"></a>code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;MvCameraControl.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CAMERA_NUM             2</span><br><br><span class="hljs-type">bool</span> g_bExit = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">// 等待用户输入enter键来结束取流或结束程序</span><br><span class="hljs-comment">// wait for user to input enter to stop grabbing or end the sample program</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PressEnterToExit</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> c;<br>    <span class="hljs-keyword">while</span> ( (c = <span class="hljs-built_in">getchar</span>()) != <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; c != EOF );<br>    <span class="hljs-built_in">fprintf</span>( stderr, <span class="hljs-string">&quot;\nPress enter to exit.\n&quot;</span>);<br>    <span class="hljs-keyword">while</span>( <span class="hljs-built_in">getchar</span>() != <span class="hljs-string">&#x27;\n&#x27;</span>);<br>    g_bExit = <span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">sleep</span>(<span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">PrintDeviceInfo</span><span class="hljs-params">(MV_CC_DEVICE_INFO* pstMVDevInfo)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == pstMVDevInfo)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The Pointer of pstMVDevInfo is NULL!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_GIGE_DEVICE)<br>    &#123;<br>        <span class="hljs-type">int</span> nIp1 = ((pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.nCurrentIp &amp; <span class="hljs-number">0xff000000</span>) &gt;&gt; <span class="hljs-number">24</span>);<br>        <span class="hljs-type">int</span> nIp2 = ((pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.nCurrentIp &amp; <span class="hljs-number">0x00ff0000</span>) &gt;&gt; <span class="hljs-number">16</span>);<br>        <span class="hljs-type">int</span> nIp3 = ((pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.nCurrentIp &amp; <span class="hljs-number">0x0000ff00</span>) &gt;&gt; <span class="hljs-number">8</span>);<br>        <span class="hljs-type">int</span> nIp4 = (pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.nCurrentIp &amp; <span class="hljs-number">0x000000ff</span>);<br><br>        <span class="hljs-comment">// ch:打印当前相机ip和用户自定义名字 | en:print current ip and user defined name</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Device Model Name: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.chModelName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;CurrentIp: %d.%d.%d.%d\n&quot;</span> , nIp1, nIp2, nIp3, nIp4);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n\n&quot;</span> , pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.chUserDefinedName);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_USB_DEVICE)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Device Model Name: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stUsb3VInfo.chModelName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stUsb3VInfo.chUserDefinedName);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_GENTL_GIGE_DEVICE)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.chUserDefinedName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Serial Number: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.chSerialNumber);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Model Name: %s\n\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stGigEInfo.chModelName);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_GENTL_CAMERALINK_DEVICE)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCMLInfo.chUserDefinedName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Serial Number: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCMLInfo.chSerialNumber);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Model Name: %s\n\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCMLInfo.chModelName);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_GENTL_CXP_DEVICE)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCXPInfo.chUserDefinedName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Serial Number: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCXPInfo.chSerialNumber);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Model Name: %s\n\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stCXPInfo.chModelName);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pstMVDevInfo-&gt;nTLayerType == MV_GENTL_XOF_DEVICE)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;UserDefinedName: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stXoFInfo.chUserDefinedName);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Serial Number: %s\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stXoFInfo.chSerialNumber);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Model Name: %s\n\n&quot;</span>, pstMVDevInfo-&gt;SpecialInfo.stXoFInfo.chModelName);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Not support.\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span>* <span class="hljs-title">WorkThread</span><span class="hljs-params">(<span class="hljs-type">void</span>* pUser)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> nRet = MV_OK;<br><br>    MVCC_STRINGVALUE stStringValue = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">char</span> camSerialNumber[<span class="hljs-number">256</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    nRet = <span class="hljs-built_in">MV_CC_GetStringValue</span>(pUser, <span class="hljs-string">&quot;DeviceSerialNumber&quot;</span>, &amp;stStringValue);<br>    <span class="hljs-keyword">if</span> (MV_OK == nRet)<br>    &#123;<br>        <span class="hljs-built_in">memcpy</span>(camSerialNumber, stStringValue.chCurValue, <span class="hljs-built_in">sizeof</span>(stStringValue.chCurValue));<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Get DeviceUserID Failed! nRet = [%x]\n&quot;</span>, nRet);<br>    &#125;<br><br>    <span class="hljs-comment">// ch:获取数据包大小 | en:Get payload size</span><br>    MVCC_INTVALUE stParam;<br>    <span class="hljs-built_in">memset</span>(&amp;stParam, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(MVCC_INTVALUE));<br>    nRet = <span class="hljs-built_in">MV_CC_GetIntValue</span>(pUser, <span class="hljs-string">&quot;PayloadSize&quot;</span>, &amp;stParam);<br>    <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Get PayloadSize fail! nRet [0x%x]\n&quot;</span>, nRet);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>    &#125;<br><br>    MV_FRAME_OUT_INFO_EX stImageInfo = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-built_in">memset</span>(&amp;stImageInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(MV_FRAME_OUT_INFO_EX));<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> * pData = (<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>) * stParam.nCurValue);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == pData)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> nDataSize = stParam.nCurValue;<br><br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>		<span class="hljs-keyword">if</span>(g_bExit)<br>		&#123;<br>			<span class="hljs-keyword">break</span>;<br>		&#125;<br><br>        nRet = <span class="hljs-built_in">MV_CC_GetOneFrameTimeout</span>(pUser, pData, nDataSize, &amp;stImageInfo, <span class="hljs-number">1000</span>);<br>        <span class="hljs-keyword">if</span> (nRet == MV_OK)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Cam Serial Number[%s]:GetOneFrame, Width[%d], Height[%d], nFrameNum[%d]\n&quot;</span>, <br>                camSerialNumber, stImageInfo.nExtendWidth, stImageInfo.nExtendHeight, stImageInfo.nFrameNum);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;cam[%s]:Get One Frame failed![%x]\n&quot;</span>, camSerialNumber, nRet);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(pData != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-built_in">free</span>(pData);<br>        pData = <span class="hljs-literal">NULL</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> nRet = MV_OK;<br><br>    <span class="hljs-type">void</span>* handle[CAMERA_NUM] = &#123;<span class="hljs-literal">NULL</span>&#125;;<br>    <span class="hljs-keyword">do</span><br>    &#123;   <br>        <span class="hljs-comment">// ch:初始化SDK | en:Initialize SDK</span><br>	    nRet = <span class="hljs-built_in">MV_CC_Initialize</span>();<br>	    <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>	    &#123;<br>		    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Initialize SDK fail! nRet [0x%x]\n&quot;</span>, nRet);<br>		    <span class="hljs-keyword">return</span> nRet;<br>	    &#125;<br><br>        MV_CC_DEVICE_INFO_LIST stDeviceList;<br>        <span class="hljs-built_in">memset</span>(&amp;stDeviceList, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(MV_CC_DEVICE_INFO_LIST));<br><br>        <span class="hljs-comment">// 枚举设备</span><br>        <span class="hljs-comment">// enum device</span><br>        nRet = <span class="hljs-built_in">MV_CC_EnumDevices</span>(MV_GIGE_DEVICE | MV_USB_DEVICE | MV_GENTL_CAMERALINK_DEVICE | MV_GENTL_CXP_DEVICE | MV_GENTL_XOF_DEVICE, &amp;stDeviceList);<br>        <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_EnumDevices fail! nRet [%x]\n&quot;</span>, nRet);<br>            <span class="hljs-keyword">return</span> nRet;<br>        &#125;<br>        <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> nIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (stDeviceList.nDeviceNum &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; stDeviceList.nDeviceNum; i++)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[device %d]:\n&quot;</span>, i);<br>                MV_CC_DEVICE_INFO* pDeviceInfo = stDeviceList.pDeviceInfo[i];<br>                <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == pDeviceInfo)<br>                &#123;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125; <br>                <span class="hljs-built_in">PrintDeviceInfo</span>(pDeviceInfo);      <br>            &#125;  <br>        &#125; <br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Find No Devices!\n&quot;</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(stDeviceList.nDeviceNum &lt; CAMERA_NUM)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;only have %d camera\n&quot;</span>, stDeviceList.nDeviceNum);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        &#125;<br><br>	    <span class="hljs-comment">// 提示为多相机测试</span><br>	    <span class="hljs-comment">// Tips for multicamera testing</span><br>	    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Start %d camera Grabbing Image test\n&quot;</span>, CAMERA_NUM);<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; CAMERA_NUM; i++)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input Camera Index: &quot;</span>);<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;nIndex);<br><br>            <span class="hljs-comment">// 选择设备并创建句柄</span><br>            <span class="hljs-comment">// select device and create handle</span><br>            nRet = <span class="hljs-built_in">MV_CC_CreateHandle</span>(&amp;handle[i], stDeviceList.pDeviceInfo[nIndex]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_CreateHandle fail! nRet [%x]\n&quot;</span>, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-comment">// 打开设备</span><br>            <span class="hljs-comment">// open device</span><br>            nRet = <span class="hljs-built_in">MV_CC_OpenDevice</span>(handle[i]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_OpenDevice fail! nRet [%x]\n&quot;</span>, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-comment">// ch:探测网络最佳包大小(只对GigE相机有效) | en:Detection network optimal package size(It only works for the GigE camera)</span><br>            <span class="hljs-keyword">if</span> (stDeviceList.pDeviceInfo[nIndex]-&gt;nTLayerType == MV_GIGE_DEVICE)<br>            &#123;<br>                <span class="hljs-type">int</span> nPacketSize = <span class="hljs-built_in">MV_CC_GetOptimalPacketSize</span>(handle[i]);<br>                <span class="hljs-keyword">if</span> (nPacketSize &gt; <span class="hljs-number">0</span>)<br>                &#123;<br>                    nRet = <span class="hljs-built_in">MV_CC_SetIntValueEx</span>(handle[i],<span class="hljs-string">&quot;GevSCPSPacketSize&quot;</span>,nPacketSize);<br>                    <span class="hljs-keyword">if</span>(nRet != MV_OK)<br>                    &#123;<br>                        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Warning: Set Packet Size fail nRet [0x%x]!\n&quot;</span>, nRet);<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Warning: Get Packet Size fail nRet [0x%x]!\n&quot;</span>, nPacketSize);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; CAMERA_NUM; i++)<br>        &#123;<br>            <span class="hljs-comment">// 设置触发模式为off</span><br>            <span class="hljs-comment">// set trigger mode as off</span><br>            nRet = <span class="hljs-built_in">MV_CC_SetEnumValue</span>(handle[i], <span class="hljs-string">&quot;TriggerMode&quot;</span>, MV_TRIGGER_MODE_OFF);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Cam[%d]: MV_CC_SetTriggerMode fail! nRet [%x]\n&quot;</span>, i, nRet);<br>            &#125;<br><br>            <span class="hljs-comment">// 开始取流</span><br>            <span class="hljs-comment">// start grab image</span><br>            nRet = <span class="hljs-built_in">MV_CC_StartGrabbing</span>(handle[i]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Cam[%d]: MV_CC_StartGrabbing fail! nRet [%x]\n&quot;</span>,i, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-type">pthread_t</span> nThreadID;<br>            nRet = <span class="hljs-built_in">pthread_create</span>(&amp;nThreadID, <span class="hljs-literal">NULL</span> ,WorkThread , handle[i]);<br>            <span class="hljs-keyword">if</span> (nRet != <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Cam[%d]: thread create failed.ret = %d\n&quot;</span>,i, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-built_in">PressEnterToExit</span>();<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; CAMERA_NUM; i++)<br>        &#123;<br>            <span class="hljs-comment">// 停止取流</span><br>            <span class="hljs-comment">// end grab image</span><br>            nRet = <span class="hljs-built_in">MV_CC_StopGrabbing</span>(handle[i]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_StopGrabbing fail! nRet [%x]\n&quot;</span>, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-comment">// 关闭设备</span><br>            <span class="hljs-comment">// close device</span><br>            nRet = <span class="hljs-built_in">MV_CC_CloseDevice</span>(handle[i]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_CloseDevice fail! nRet [%x]\n&quot;</span>, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-comment">// 销毁句柄</span><br>            <span class="hljs-comment">// destroy handle</span><br>            nRet = <span class="hljs-built_in">MV_CC_DestroyHandle</span>(handle[i]);<br>            <span class="hljs-keyword">if</span> (MV_OK != nRet)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MV_CC_DestroyHandle fail! nRet [%x]\n&quot;</span>, nRet);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            handle[i] = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<span class="hljs-keyword">while</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; CAMERA_NUM; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(handle[i]!=<span class="hljs-literal">NULL</span>)<br>        &#123;<br>            <span class="hljs-built_in">MV_CC_DestroyHandle</span>(handle[i]);<br>            handle[i] = <span class="hljs-literal">NULL</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// ch:反初始化SDK | en:Finalize SDK</span><br>	<span class="hljs-built_in">MV_CC_Finalize</span>();<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;exit\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="代码流程"><a href="#代码流程" class="headerlink" title="代码流程"></a>代码流程</h1><p><img src="/../../../image/GrabMulCamera.bmp" srcset="/img/loading.gif" lazyload alt="img"></p>
<h1 id="函数用法"><a href="#函数用法" class="headerlink" title="函数用法"></a>函数用法</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/********************************************************************/</span><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *  @~chinese</span><br><span class="hljs-comment"> *  @brief  创建设备句柄</span><br><span class="hljs-comment"> *  @param  handle                      [IN][OUT]       设备句柄</span><br><span class="hljs-comment"> *  @param  pstDevInfo                  [IN]            设备信息结构体</span><br><span class="hljs-comment"> *  @return 成功，返回MV_OK；错误，返回错误码 </span><br><span class="hljs-comment"> *  @remarks 根据输入的设备信息，创建库内部必须的资源和初始化内部模块</span><br><span class="hljs-comment">             通过该接口创建句柄，调用SDK接口，会默认生成SDK日志文件，如果不需要生成日志文件，可以将日志配置文件中的日志等级改成off</span><br><span class="hljs-comment"> </span><br><span class="hljs-comment"> *  @~english</span><br><span class="hljs-comment"> *  @brief  Create Device Handle</span><br><span class="hljs-comment"> *  @param  handle                      [IN][OUT]       Device handle</span><br><span class="hljs-comment"> *  @param  pstDevInfo                  [IN]            Device Information Structure</span><br><span class="hljs-comment"> *  @return Success, return MV_OK. Failure, return error code</span><br><span class="hljs-comment"> *  @remarks Create required resources within library and initialize internal module according to input device information. </span><br><span class="hljs-comment">             By creating a handle through this interface and calling the SDK interface, SDK log files will be generated by default. If no log file needs to be generated, the log level in the log configuration file can be changed to off</span><br><span class="hljs-comment"> ************************************************************************/</span><br><span class="hljs-function">MV_CAMCTRL_API <span class="hljs-type">int</span> __stdcall <span class="hljs-title">MV_CC_CreateHandle</span><span class="hljs-params">(IN OUT <span class="hljs-type">void</span> ** handle, IN <span class="hljs-type">const</span> MV_CC_DEVICE_INFO* pstDevInfo)</span></span>;<br></code></pre></td></tr></table></figure>


<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><ol>
<li>多相机控制的关键是，利用相机的信息，创建句柄;</li>
<li>句柄是控制相机的关键；</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/StructLight/" class="category-chain-item">StructLight</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Grab Multiple Camera</div>
      <div>http://example.com/2025/02/22/StructLight/camera/GrabMulCamera/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>ZhangHangming</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年2月22日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/02/22/StructLight/Jetson/Jetson%E5%88%B7%E6%9C%BA/" title="Jetson刷机">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Jetson刷机</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/02/22/StructLight/camera/ImageCallback/" title="Get Image in Callback Function">
                        <span class="hidden-mobile">Get Image in Callback Function</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
