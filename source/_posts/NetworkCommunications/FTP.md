---
title: FTP
categories:
	- 网络通信
---
# 计算机网络的分类

1. 根据网络作用分类：
   * 广域网WAN
   * 城域网MAN
   * 局域网LAN
   * 个人局域网PAN
2. 根据网络使用者分类：
   * 公用网
   * 专用网

<!-- more -->

# 计算机网络的性能

1. 速率：网络中两台主机之间的数据传输速率，又称比特率或数据率；
2. 带宽：通信线路传输数据的能力；
3. 吞吐量：单位时间通过某个网络的数据总量；
4. 时延：报文从一个网络的一个节点传送到另一个节点所需要的时间；
5. 时延带宽积：信道中正在传输的数据总量；
6. 往返时间(Round-Trip Time)：发送端发送数据到其接收到确认反馈的时间；
7. 信道利用率：某个信道有数据通过的时间百分比；
8. 网络利用率：整个网络中信道利用率的加权平均值。

# FTP模型

FTP文件传输协议，位于应用层，基于C/S架构。

FTP系统和其他C/S系统的区别在于，客户端和服务器同时建立了两条连接：

* 一条用于控制信号的传输
* 一条用于数据的传输

控制连接一般用21号端口。

# FTP传输方式

## 主动传输

1. 客户端与服务器的21号端口建立TCP控制连接；
2. 用户在控制通道中使用 `PORT`命令向服务器发送本地IP和端口（数据传输）；
3. 服务器**主动**连接客户端发送来的指定端口，建立数据连接。

## 被动传输

1. 客户端与服务器的21号端口建立TCP控制连接；
2. 用户在控制通道中发送 `PASV`命令请求服务器开启一个用于数据传输的端口；
3. 服务器收到命令之后，开启一个大于1024的端口，并将其IP和端口发送给客户端；
4. 客户端收到IP和端口后，主动连接到服务器的该端口，建立数据连接。
